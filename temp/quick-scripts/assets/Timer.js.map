{"version":3,"sources":["Timer.js"],"names":["cc","Class","extends","Component","properties","Timer","default","type","Node","serializable","TiempoLimiteSegundos","inicio","onLoad","Date","getTime","start","update","dt","tiempo","Miliseg","Math","floor","toString","Segundos","Minutos","getComponent","Label","string","substr","length"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACHC,eAAM;AACNC,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,IAFH;AAGNC,0BAAc;AAHR,SADH;AAMbC,8BAAqB;AACpBJ,qBAAS,GADW;AAEpBG,0BAAa;AAFO;;AANR,KAHP;AAeRE,YAAQ,IAfA;AAgBL;;AAEAC,UAlBK,oBAkBK;AACZ,aAAKD,MAAL,GAAe,IAAIE,IAAJ,EAAD,CAAaC,OAAb,EAAd;AAEA,KArBO;AAuBLC,SAvBK,mBAuBI,CAER,CAzBI;AA2BLC,UA3BK,kBA2BGC,EA3BH,EA2BO;AACd,YAAIC,SAAS,KAAKR,oBAAL,GAA2B,IAA3B,IAAoC,IAAIG,IAAJ,EAAD,CAAaC,OAAb,KAAyB,KAAKH,MAAjE,CAAb;AACM,YAAGO,SAAS,CAAZ,EAAc;AACnB,gBAAIC,UAAU,QAASC,KAAKC,KAAL,CAAYH,SAAS,IAAV,GAAgB,EAA3B,CAAD,CAAiCI,QAAjC,EAAtB;AACG,gBAAIC,WAAW,OAAO,CAACH,KAAKC,KAAL,CAAWH,SAAS,IAApB,IAA4B,EAA7B,EAAiCI,QAAjC,EAAtB,CAFgB,CAEmD;AACtE,gBAAIE,UAAU,OAAQJ,KAAKC,KAAL,CAAWH,SAAS,EAAT,GAAc,IAAzB,CAAD,CAAiCI,QAAjC,EAArB,CAHmB,CAG+C;;AAElE,iBAAKjB,KAAL,CAAWoB,YAAX,CAAwBzB,GAAG0B,KAA3B,EAAkCC,MAAlC,GAA2CH,QAAQI,MAAR,CAAeJ,QAAQK,MAAR,GAAiB,CAAhC,IAAqC,GAArC,GAChCN,SAASK,MAAT,CAAgBL,SAASM,MAAT,GAAiB,CAAjC,CADgC,GACM,GADN,GAEhCV,QAAQS,MAAR,CAAeT,QAAQU,MAAR,GAAgB,CAA/B,CAFX;AAGA;AACD;AAtCO,CAAT","file":"Timer.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n             Timer:{\r\n             default: null, \r\n             type: cc.Node, \r\n             serializable: true,   \r\n            },\r\n\t\t\tTiempoLimiteSegundos:{\r\n\t\t\t\tdefault: 240,\r\n\t\t\t\tserializable:true,\r\n\t\t\t},\r\n\r\n    },\r\n\tinicio: null,\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\t\tthis.inicio = (new Date()).getTime();\r\n\t\t\r\n\t},\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n\t\tvar tiempo = this.TiempoLimiteSegundos *1000 - ((new Date()).getTime() - this.inicio);\r\n        if(tiempo > 0){\r\n\t\t\tvar Miliseg = '000' + (Math.floor((tiempo % 1000)/10)).toString();\r\n\t    \tvar Segundos = '00' + (Math.floor(tiempo / 1000) % 60).toString(); //in s\r\n\t\t\tvar Minutos = '00' + (Math.floor(tiempo / 60 / 1000)).toString(); //in minutes\r\n\t\t\t\r\n\t\t\tthis.Timer.getComponent(cc.Label).string = Minutos.substr(Minutos.length - 2) + \":\" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSegundos.substr(Segundos.length -2) + \".\" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMiliseg.substr(Miliseg.length -2);\r\n\t\t}\r\n\t},\r\n});\r\n"]}