{"version":3,"sources":["fondo.js"],"names":["cc","Class","extends","Component","properties","velocidadGiroMaxima","default","serializable","aceleracionGiro","controlesActivos","accionaIzquierda","accionaDerecha","velocidadGiro","anguloActual","start","onLoad","self","eventManager","addListener","event","EventListener","KEYBOARD","onKeyPressed","keyCode","KEY","a","d","space","log","getComponent","IniciarBit","onKeyReleased","FinalizarBit","enter","ChequearFrecuencia","node","rotationX","update","dt","variacion","isNaN","rotation"],"mappings":"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","file":"fondo.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n\t\tvelocidadGiroMaxima: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t},\r\n\t\t\r\n\t\taceleracionGiro: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t},\r\n\t\t \r\n\t\t controlesActivos:{\r\n\t\t\t default:true,\r\n\t\t\t serializable: true,\r\n\t\t }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n\r\n\taccionaIzquierda: false,\r\n\taccionaDerecha: false,\r\n\tvelocidadGiro: 0.0,\r\n\tanguloActual: 0.0,\r\n\t\r\n    start () {\r\n\t\t\r\n    },\r\n\r\n    onLoad () {\r\n        var self = this;\r\n        // add keyboard event listener\r\n        cc.eventManager.addListener({\r\n            event: cc.EventListener.KEYBOARD,\r\n            // When there is a key being pressed down, judge if it's the designated directional button and set up acceleration in the corresponding direction\r\n            onKeyPressed: function(keyCode, event) {\r\n\t\t\t\tif (self.controlesActivos)\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch(keyCode) {\r\n\t\t\t\t\t\tcase cc.KEY.a:\r\n\t\t\t\t\t\t\tself.accionaIzquierda = true;\r\n\t\t\t\t\t\t\tself.accionaDerecha = false;\r\n\t\t\t\t\t\t\t//cc.log('gira izquierda');\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase cc.KEY.d:\r\n\t\t\t\t\t\t\tself.accionaIzquierda = false;\r\n\t\t\t\t\t\t\tself.accionaDerecha = true;\r\n\t\t\t\t\t\t\t//cc.log('gira derecha');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase cc.KEY.space:\r\n\t\t\t\t\t\t\tcc.log('Barra presionada');\r\n\t\t\t\t\t\t\tself.getComponent('GameFlow').IniciarBit();                        \r\n                            break;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n            },\r\n            // when releasing the button, stop acceleration in this direction\r\n            onKeyReleased: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accionaIzquierda = false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accionaDerecha = false;\r\n                        break;\r\n                    case cc.KEY.space:\r\n\t\t\t\t\t\tcc.log('Barra soltada');\r\n\t\t\t\t\t\tself.getComponent('GameFlow').FinalizarBit();                        \r\n                        break;\r\n\r\n                    case cc.KEY.enter:\r\n                    \tcc.log('Ingreso Texto');\r\n\t\t\t\t\t\tself.getComponent('GameFlow').ChequearFrecuencia();                        \r\n                        break;\r\n                }\r\n            }\r\n        }, self.node);\r\n\t\tself.controlesActivos= true;\r\n\t\tself.anguloActual = self.node.rotationX;\r\n\t\tself.velocidadGiro = -2.0;\r\n\t\tself.anguloActual = 0.0;\r\n\t},\r\n\t\r\n    update (dt) {\r\n\t\tvar variacion = this.aceleracionGiro * dt;\r\n\t\t\r\n\t\tif (isNaN(this.velocidadGiro)) this.velocidadGiro = 0.0;\r\n\t\tif (isNaN(this.anguloActual)) this.anguloActual = 0.0;\r\n\t\t\r\n\t\tif (this.accionaIzquierda)\r\n\t\t{\r\n\t\t\tif (this.velocidadGiro < this.velocidadGiroMaxima)\r\n\t\t\t\tthis.velocidadGiro += variacion;\r\n\t\t\telse\r\n\t\t\t\tthis.velocidadGiro = this.velocidadGiroMaxima;\r\n\t\t}\r\n\t\telse\r\n\t\t\tif (this.accionaDerecha)\r\n\t\t\t{\r\n\t\t\t\tif (this.velocidadGiro > -this.velocidadGiroMaxima)\r\n\t\t\t\t\tthis.velocidadGiro -= variacion;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadGiro = -this.velocidadGiroMaxima;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{// no acciona a derecha ni a izquierda y entonces desacelera\r\n\t\t\r\n\t\t\t\tif (this.velocidadGiro > 0.0)\r\n\t\t\t\t\tthis.velocidadGiro -= variacion/2;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadGiro += variacion/2;\r\n\t\t\t}\r\n\t\t\r\n\t\tif (this.velocidadGiro >= -variacion * 4 && this.velocidadGiro < variacion * 4 && !this.accionaIzquierda && !this.accionaDerecha)\r\n\t\t\tthis.velocidadGiro = 0.0;\r\n\t\telse\r\n\t\t\tthis.anguloActual = (this.anguloActual + this.velocidadGiro) % 360;\r\n\t\t\r\n\t\t//cc.log(this.velocidadGiro, this.anguloActual, dt, this.velocidadGiroMaxima, this.aceleracionGiro);\r\n\t\t\r\n\t\tthis.node.rotation = this.anguloActual;\r\n\t},\r\n});\r\n"]}