{"version":3,"sources":["fondo.js"],"names":["cc","Class","extends","Component","properties","velocidadGiroMaxima","default","serializable","aceleracionGiro","accLeft","accRight","velocidadgiro","anguloactual","start","onLoad","setInputControl","self","eventManager","addListener","event","EventListener","KEYBOARD","onKeyPressed","keyCode","KEY","a","d","onKeyReleased","node","update","dt","isNaN","rotation"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAENC,uBAAqB;AACpBC,YAAS,GADW;AAEpBC,iBAAc;AAFM,GAjBP;;AAsBdC,mBAAiB;AAChBF,YAAS,GADO;AAEhBC,iBAAc;AAFE;AAtBH,EAHP;;AA+BL;;;AAGHE,UAAS,KAlCD;AAmCRC,WAAU,KAnCF;AAoCRC,gBAAe,GApCP;AAqCRC,eAAc,GArCN;;AAuCLC,MAvCK,mBAuCI,CAER,CAzCI;AA2CLC,OA3CK,oBA2CK;AACZ,OAAKC,eAAL;AAEA,EA9CO;;;AAgDRA,kBAAiB,2BAAY;AACtB,MAAIC,OAAO,IAAX;AACA;AACAhB,KAAGiB,YAAH,CAAgBC,WAAhB,CAA4B;AACxBC,UAAOnB,GAAGoB,aAAH,CAAiBC,QADA;AAExB;AACAC,iBAAc,sBAASC,OAAT,EAAkBJ,KAAlB,EAAyB;AACnC,YAAOI,OAAP;AACI,UAAKvB,GAAGwB,GAAH,CAAOC,CAAZ;AACIT,WAAKP,OAAL,GAAe,IAAf;AACAO,WAAKN,QAAL,GAAgB,KAAhB;AAClB;;AAEkB;AACJ,UAAKV,GAAGwB,GAAH,CAAOE,CAAZ;AACIV,WAAKP,OAAL,GAAe,KAAf;AACAO,WAAKN,QAAL,GAAgB,IAAhB;AAClB;AACkB;AAXR;AAaH,IAjBuB;AAkBxB;AACAiB,kBAAe,uBAASJ,OAAT,EAAkBJ,KAAlB,EAAyB;AACpC,YAAOI,OAAP;AACI,UAAKvB,GAAGwB,GAAH,CAAOC,CAAZ;AACIT,WAAKP,OAAL,GAAe,KAAf;AACA;AACJ,UAAKT,GAAGwB,GAAH,CAAOE,CAAZ;AACIV,WAAKN,QAAL,GAAgB,KAAhB;AACA;AANR;AAQH;AA5BuB,GAA5B,EA6BGM,KAAKY,IA7BR;AA8BN,EAjFO;;AAmFLC,OAnFK,kBAmFGC,EAnFH,EAmFO;;AAEd,MAAI,CAACC,MAAMD,EAAN,CAAL,EACA;AACC,OAAIC,MAAM,KAAKpB,aAAX,CAAJ,EAA+B,KAAKA,aAAL,GAAqB,GAArB;AAC/B,OAAIoB,MAAM,KAAKnB,YAAX,CAAJ,EAA8B,KAAKA,YAAL,GAAoB,GAApB;;AAE9B,OAAI,KAAKH,OAAT;AACC,QAAI,KAAKE,aAAL,GAAqB,KAAKN,mBAA9B,EACC,KAAKM,aAAL,IAAsB,KAAKH,eAAL,GAAuBsB,EAA7C,CADD,KAGC,KAAKnB,aAAL,GAAqB,KAAKN,mBAA1B;AAJF,UAMC,IAAI,KAAKK,QAAT;AACC,QAAI,KAAKC,aAAL,GAAqB,CAAC,KAAKN,mBAA/B,EACC,KAAKM,aAAL,IAAsB,KAAKH,eAAL,GAAuBsB,EAA7C,CADD,KAGC,KAAKnB,aAAL,GAAqB,CAAE,KAAKN,mBAA5B;AAJF,UAMC,IAAI,KAAKM,aAAL,GAAqB,GAAzB,EACC,KAAKA,aAAL,IAAsB,KAAKH,eAAL,GAAuBsB,EAA7C,CADD,KAGC,KAAKnB,aAAL,IAAsB,KAAKH,eAAL,GAAuBsB,EAA7C;;AAEH,OAAI,KAAKnB,aAAL,GAAqB,GAAzB,EACC,KAAKA,aAAL,GAAqB,GAArB,CADD,KAGC,KAAKC,YAAL,IAAoB,KAAKD,aAAzB;;AAED;;AAEA,QAAKiB,IAAL,CAAUI,QAAV,GAAqB,KAAKpB,YAA1B;AACA;AACD;AApHO,CAAT","file":"fondo.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n\t\t\r\n\t\tvelocidadGiroMaxima: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t},\r\n\t\t\r\n\t\taceleracionGiro: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t}\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n\r\n\taccLeft: false,\r\n\taccRight: false,\r\n\tvelocidadgiro: 0.0,\r\n\tanguloactual: 0.0,\r\n\t\r\n    start () {\r\n\t\t\r\n    },\r\n\r\n    onLoad () {\r\n\t\tthis.setInputControl();\r\n\t\t\r\n\t},\r\n\t\r\n\tsetInputControl: function () {\r\n        var self = this;\r\n        // add keyboard event listener\r\n        cc.eventManager.addListener({\r\n            event: cc.EventListener.KEYBOARD,\r\n            // When there is a key being pressed down, judge if it's the designated directional button and set up acceleration in the corresponding direction\r\n            onKeyPressed: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accLeft = true;\r\n                        self.accRight = false;\r\n\t\t\t\t\t\t//cc.log('gira izquierda');\r\n\t\t\t\t\t\t\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accLeft = false;\r\n                        self.accRight = true;\r\n\t\t\t\t\t\t//cc.log('gira derecha');\r\n                        break;\r\n                }\r\n            },\r\n            // when releasing the button, stop acceleration in this direction\r\n            onKeyReleased: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accLeft = false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accRight = false;\r\n                        break;\r\n                }\r\n            }\r\n        }, self.node);\r\n\t},\r\n\t\r\n    update (dt) {\r\n\t\t\r\n\t\tif (!isNaN(dt))\r\n\t\t{\r\n\t\t\tif (isNaN(this.velocidadgiro)) this.velocidadgiro = 0.0;\r\n\t\t\tif (isNaN(this.anguloactual)) this.anguloactual = 0.0;\r\n\t\t\t\r\n\t\t\tif (this.accLeft )\r\n\t\t\t\tif (this.velocidadgiro < this.velocidadGiroMaxima)\r\n\t\t\t\t\tthis.velocidadgiro += this.aceleracionGiro * dt;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadgiro = this.velocidadGiroMaxima;\r\n\t\t\telse\r\n\t\t\t\tif (this.accRight)\r\n\t\t\t\t\tif (this.velocidadgiro > -this.velocidadGiroMaxima)\r\n\t\t\t\t\t\tthis.velocidadgiro -= this.aceleracionGiro * dt;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.velocidadgiro = - this.velocidadGiroMaxima;\r\n\t\t\t\telse\r\n\t\t\t\t\tif (this.velocidadgiro > 0.0)\r\n\t\t\t\t\t\tthis.velocidadgiro -= this.aceleracionGiro * dt;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.velocidadgiro += this.aceleracionGiro * dt;\r\n\t\t\t\r\n\t\t\tif (this.velocidadgiro < 5.0)\r\n\t\t\t\tthis.velocidadgiro = 0.0;\r\n\t\t\telse\r\n\t\t\t\tthis.anguloactual+= this.velocidadgiro;\r\n\t\t\t\r\n\t\t\t//cc.log(this.velocidadgiro, this.anguloactual, dt, this.velocidadGiroMaxima, this.aceleracionGiro);\r\n\t\t\t\r\n\t\t\tthis.node.rotation = this.anguloactual;\r\n\t\t}\r\n\t},\r\n});\r\n"]}