{"version":3,"sources":["..\\..\\..\\assets/assets\\Timer.js"],"names":["cc","Class","extends","Component","properties","Timer","default","type","Node","serializable","TiempoLimiteSegundos","inicio","onLoad","Date","getTime","tiempo","start","ActualizarTiempo","NewTime","self","update","dt","Miliseg","Math","floor","toString","Segundos","Minutos","getComponent","Label","string","substr","length","node","timeout"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACJC,eAAM;AACdC,qBAAS,IADK;AAEdC,kBAAMP,GAAGQ,IAFK;AAGdC,0BAAc;AAHA,SADF;AAMbC,8BAAqB;AACpBJ,qBAAS,GADW;AAEpBG,0BAAa;AAFO;;AANR,KAHP;;AAgBRE,YAAQ,IAhBA;AAiBL;;AAEAC,UAnBK,oBAmBK;AACZ,aAAKD,MAAL,GAAe,IAAIE,IAAJ,EAAD,CAAaC,OAAb,EAAd;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,KAtBO;AAwBLC,SAxBK,mBAwBI,CAER,CA1BI;;;AA4BLC,sBAAkB,0BAASC,OAAT,EAAiB;AAClC,YAAIC,OAAO,IAAX;AACAA,aAAKT,oBAAL,GAA4BQ,OAA5B;AACA,KA/BI;;AAiCLE,UAjCK,kBAiCGC,EAjCH,EAiCO;;AAEd,YAAG,KAAKN,MAAL,GAAc,CAAjB,EAAmB;AAClB,iBAAKA,MAAL,GAAc,KAAKL,oBAAL,GAA2B,IAA3B,IAAoC,IAAIG,IAAJ,EAAD,CAAaC,OAAb,KAAyB,KAAKH,MAAjE,CAAd;;AAEA,gBAAG,KAAKI,MAAL,GAAc,CAAjB,EAAmB;AAClB,oBAAIO,UAAU,QAASC,KAAKC,KAAL,CAAY,KAAKT,MAAL,GAAc,IAAf,GAAqB,EAAhC,CAAD,CAAsCU,QAAtC,EAAtB;AACA,oBAAIC,WAAW,OAAO,CAACH,KAAKC,KAAL,CAAW,KAAKT,MAAL,GAAc,IAAzB,IAAiC,EAAlC,EAAsCU,QAAtC,EAAtB,CAFkB,CAEsD;AACxE,oBAAIE,UAAU,OAAQJ,KAAKC,KAAL,CAAW,KAAKT,MAAL,GAAc,EAAd,GAAmB,IAA9B,CAAD,CAAsCU,QAAtC,EAArB,CAHkB,CAGqD;;AAEvE,qBAAKpB,KAAL,CAAWuB,YAAX,CAAwB5B,GAAG6B,KAA3B,EAAkCC,MAAlC,GAA2CH,QAAQI,MAAR,CAAeJ,QAAQK,MAAR,GAAiB,CAAhC,IAAqC,GAArC,GAChCN,SAASK,MAAT,CAAgBL,SAASM,MAAT,GAAiB,CAAjC,CADgC,GACM,GADN,GAEhCV,QAAQS,MAAR,CAAeT,QAAQU,MAAR,GAAgB,CAA/B,CAFX;AAGA,aARD,MAUA;AACC,qBAAK3B,KAAL,CAAWuB,YAAX,CAAwB5B,GAAG6B,KAA3B,EAAkCC,MAAlC,GAA2C,WAA3C;AACA,qBAAKG,IAAL,CAAUL,YAAV,CAAuB,UAAvB,EAAmCM,OAAnC;AACA;AAED;AACD;AAtDO,CAAT","file":"Timer.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n            Timer:{\r\n\t\t\t\tdefault: null, \r\n\t\t\t\ttype: cc.Node, \r\n\t\t\t\tserializable: true,   \r\n            },\r\n\t\t\tTiempoLimiteSegundos:{\r\n\t\t\t\tdefault: 240,\r\n\t\t\t\tserializable:true,\r\n\t\t\t},\r\n\r\n    },\r\n\t\r\n\tinicio: null,\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\t\tthis.inicio = (new Date()).getTime();\r\n\t\tthis.tiempo = 1;\r\n\t},\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    ActualizarTiempo: function(NewTime){\r\n    \tvar self = this;\r\n    \tself.TiempoLimiteSegundos = NewTime;\r\n    },\r\n\r\n    update (dt) {\r\n\t\t\r\n\t\tif(this.tiempo > 0){\r\n\t\t\tthis.tiempo = this.TiempoLimiteSegundos *1000 - ((new Date()).getTime() - this.inicio);\r\n\t\t\t\r\n\t\t\tif(this.tiempo > 0){\r\n\t\t\t\tvar Miliseg = '000' + (Math.floor((this.tiempo % 1000)/10)).toString();\r\n\t\t\t\tvar Segundos = '00' + (Math.floor(this.tiempo / 1000) % 60).toString(); //in s\r\n\t\t\t\tvar Minutos = '00' + (Math.floor(this.tiempo / 60 / 1000)).toString(); //in minutes\r\n\t\t\t\t\r\n\t\t\t\tthis.Timer.getComponent(cc.Label).string = Minutos.substr(Minutos.length - 2) + \":\" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSegundos.substr(Segundos.length -2) + \".\" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMiliseg.substr(Miliseg.length -2);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.Timer.getComponent(cc.Label).string = '...---...';\r\n\t\t\t\tthis.node.getComponent('GameFlow').timeout();\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t}\r\n\t},\r\n});\r\n"]}