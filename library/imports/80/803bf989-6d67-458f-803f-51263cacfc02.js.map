{"version":3,"sources":["..\\..\\..\\assets/assets\\fondo.js"],"names":["cc","Class","extends","Component","properties","velocidadGiroMaxima","default","serializable","aceleracionGiro","accionaIzquierda","accionaDerecha","velocidadGiro","anguloActual","start","onLoad","self","eventManager","addListener","event","EventListener","KEYBOARD","onKeyPressed","keyCode","KEY","a","d","onKeyReleased","node","update","dt","variacion","isNaN","rotation"],"mappings":"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","file":"fondo.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n\t\t\r\n\t\tvelocidadGiroMaxima: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t},\r\n\t\t\r\n\t\taceleracionGiro: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t}\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n\r\n\taccionaIzquierda: false,\r\n\taccionaDerecha: false,\r\n\tvelocidadGiro: 0.0,\r\n\tanguloActual: 0.0,\r\n\t\r\n    start () {\r\n\t\t\r\n    },\r\n\r\n    onLoad () {\r\n        var self = this;\r\n        // add keyboard event listener\r\n        cc.eventManager.addListener({\r\n            event: cc.EventListener.KEYBOARD,\r\n            // When there is a key being pressed down, judge if it's the designated directional button and set up acceleration in the corresponding direction\r\n            onKeyPressed: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accionaIzquierda = true;\r\n                        self.accionaDerecha = false;\r\n\t\t\t\t\t\t//cc.log('gira izquierda');\r\n\t\t\t\t\t\t\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accionaIzquierda = false;\r\n                        self.accionaDerecha = true;\r\n\t\t\t\t\t\t//cc.log('gira derecha');\r\n                        break;\r\n                }\r\n            },\r\n            // when releasing the button, stop acceleration in this direction\r\n            onKeyReleased: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accionaIzquierda = false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accionaDerecha = false;\r\n                        break;\r\n                }\r\n            }\r\n        }, self.node);\r\n\t},\r\n\t\r\n    update (dt) {\r\n\t\tvar variacion = this.aceleracionGiro * dt;\r\n\t\t\r\n\t\tif (isNaN(this.velocidadGiro)) this.velocidadGiro = 0.0;\r\n\t\tif (isNaN(this.anguloActual)) this.anguloActual = 0.0;\r\n\t\t\r\n\t\tif (this.accionaIzquierda)\r\n\t\t{\r\n\t\t\tif (this.velocidadGiro < this.velocidadGiroMaxima)\r\n\t\t\t\tthis.velocidadGiro += variacion;\r\n\t\t\telse\r\n\t\t\t\tthis.velocidadGiro = this.velocidadGiroMaxima;\r\n\t\t}\r\n\t\telse\r\n\t\t\tif (this.accionaDerecha)\r\n\t\t\t{\r\n\t\t\t\tif (this.velocidadGiro > -this.velocidadGiroMaxima)\r\n\t\t\t\t\tthis.velocidadGiro -= variacion;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadGiro = -this.velocidadGiroMaxima;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{// no acciona a derecha ni a izquierda y entonces desacelera\r\n\t\t\r\n\t\t\t\tif (this.velocidadGiro > 0.0)\r\n\t\t\t\t\tthis.velocidadGiro -= variacion/2;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadGiro += variacion/2;\r\n\t\t\t}\r\n\t\t\r\n\t\tif (this.velocidadGiro >= -variacion * 4 && this.velocidadGiro < variacion * 4 && !this.accionaIzquierda && !this.accionaDerecha)\r\n\t\t\tthis.velocidadGiro = 0.0;\r\n\t\telse\r\n\t\t\tthis.anguloActual = (this.anguloActual + this.velocidadGiro) % 360;\r\n\t\t\r\n\t\t//cc.log(this.velocidadGiro, this.anguloActual, dt, this.velocidadGiroMaxima, this.aceleracionGiro);\r\n\t\t\r\n\t\tthis.node.rotation = this.anguloActual;\r\n\t},\r\n});\r\n"]}