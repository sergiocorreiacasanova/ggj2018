{"version":3,"sources":["..\\..\\..\\assets/assets\\fondo.js"],"names":["cc","Class","extends","Component","properties","velocidadGiroMaxima","default","serializable","aceleracionGiro","controlesActivos","accionaIzquierda","accionaDerecha","velocidadGiro","anguloActual","start","onLoad","self","eventManager","addListener","event","EventListener","KEYBOARD","onKeyPressed","keyCode","KEY","a","d","onKeyReleased","node","rotationX","update","dt","variacion","isNaN","rotation"],"mappings":"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","file":"fondo.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n\t\t\r\n\t\tvelocidadGiroMaxima: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t},\r\n\t\t\r\n\t\taceleracionGiro: {\r\n\t\t\tdefault: 1.0,\r\n\t\t\tserializable: true\r\n\t\t},\r\n\t\t \r\n\t\t controlesActivos:{\r\n\t\t\t default:true,\r\n\t\t\t serializable: true,\r\n\t\t }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n\r\n\taccionaIzquierda: false,\r\n\taccionaDerecha: false,\r\n\tvelocidadGiro: 0.0,\r\n\tanguloActual: 0.0,\r\n\t\r\n    start () {\r\n\t\t\r\n    },\r\n\r\n    onLoad () {\r\n        var self = this;\r\n        // add keyboard event listener\r\n        cc.eventManager.addListener({\r\n            event: cc.EventListener.KEYBOARD,\r\n            // When there is a key being pressed down, judge if it's the designated directional button and set up acceleration in the corresponding direction\r\n            onKeyPressed: function(keyCode, event) {\r\n\t\t\t\tif (self.controlesActivos)\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch(keyCode) {\r\n\t\t\t\t\t\tcase cc.KEY.a:\r\n\t\t\t\t\t\t\tself.accionaIzquierda = true;\r\n\t\t\t\t\t\t\tself.accionaDerecha = false;\r\n\t\t\t\t\t\t\t//cc.log('gira izquierda');\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase cc.KEY.d:\r\n\t\t\t\t\t\t\tself.accionaIzquierda = false;\r\n\t\t\t\t\t\t\tself.accionaDerecha = true;\r\n\t\t\t\t\t\t\t//cc.log('gira derecha');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n            },\r\n            // when releasing the button, stop acceleration in this direction\r\n            onKeyReleased: function(keyCode, event) {\r\n                switch(keyCode) {\r\n                    case cc.KEY.a:\r\n                        self.accionaIzquierda = false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accionaDerecha = false;\r\n                        break;\r\n                }\r\n            }\r\n        }, self.node);\r\n\t\tself.controlesActivos= true;\r\n\t\tthis.anguloActual = this.node.rotationX;\r\n\t},\r\n\t\r\n    update (dt) {\r\n\t\tvar variacion = this.aceleracionGiro * dt;\r\n\t\t\r\n\t\tif (isNaN(this.velocidadGiro)) this.velocidadGiro = 0.0;\r\n\t\tif (isNaN(this.anguloActual)) this.anguloActual = 0.0;\r\n\t\t\r\n\t\tif (this.accionaIzquierda)\r\n\t\t{\r\n\t\t\tif (this.velocidadGiro < this.velocidadGiroMaxima)\r\n\t\t\t\tthis.velocidadGiro += variacion;\r\n\t\t\telse\r\n\t\t\t\tthis.velocidadGiro = this.velocidadGiroMaxima;\r\n\t\t}\r\n\t\telse\r\n\t\t\tif (this.accionaDerecha)\r\n\t\t\t{\r\n\t\t\t\tif (this.velocidadGiro > -this.velocidadGiroMaxima)\r\n\t\t\t\t\tthis.velocidadGiro -= variacion;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadGiro = -this.velocidadGiroMaxima;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{// no acciona a derecha ni a izquierda y entonces desacelera\r\n\t\t\r\n\t\t\t\tif (this.velocidadGiro > 0.0)\r\n\t\t\t\t\tthis.velocidadGiro -= variacion/2;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.velocidadGiro += variacion/2;\r\n\t\t\t}\r\n\t\t\r\n\t\tif (this.velocidadGiro >= -variacion * 4 && this.velocidadGiro < variacion * 4 && !this.accionaIzquierda && !this.accionaDerecha)\r\n\t\t\tthis.velocidadGiro = 0.0;\r\n\t\telse\r\n\t\t\tthis.anguloActual = (this.anguloActual + this.velocidadGiro) % 360;\r\n\t\t\r\n\t\t//cc.log(this.velocidadGiro, this.anguloActual, dt, this.velocidadGiroMaxima, this.aceleracionGiro);\r\n\t\t\r\n\t\tthis.node.rotation = this.anguloActual;\r\n\t},\r\n});\r\n"]}