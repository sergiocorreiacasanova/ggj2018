require=function i(o,e,a){function t(c,s){if(!e[c]){if(!o[c]){var d="function"==typeof require&&require;if(!s&&d)return d(c,!0);if(n)return n(c,!0);var r=new Error("Cannot find module '"+c+"'");throw r.code="MODULE_NOT_FOUND",r}var l=e[c]={exports:{}};o[c][0].call(l.exports,function(i){var e=o[c][1][i];return t(e||i)},l,l.exports,i,o,e,a)}return e[c].exports}for(var n="function"==typeof require&&require,c=0;c<a.length;c++)t(a[c]);return t}({Panel:[function(i,o,e){"use strict";cc._RF.push(o,"b9ac65P5J1GIojGSQxU6N1n","Panel"),cc.Class({extends:cc.Component,properties:{Papel:{default:null,type:cc.Node,serializable:!0}},onLoad:function(){var i=cc.director.getCollisionManager();i.enabled=!0,i.enabledDebugDraw=!0},start:function(){},onCollisionEnter:function(i,o){var o=this;cc.log("on collision enter"),o.Papel.getComponent(cc.Sprite).enabled=!0}}),cc._RF.pop()},{}],fondo:[function(i,o,e){"use strict";cc._RF.push(o,"803bfmJbWdFj4A/USY8rPwC","fondo"),cc.Class({extends:cc.Component,properties:{velocidadGiroMaxima:{default:1,serializable:!0},aceleracionGiro:{default:1,serializable:!0}},accionaIzquierda:!1,accionaDerecha:!1,velocidadGiro:0,anguloActual:0,start:function(){},onLoad:function(){var i=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(o,e){switch(o){case cc.KEY.a:i.accionaIzquierda=!0,i.accionaDerecha=!1;break;case cc.KEY.d:i.accionaIzquierda=!1,i.accionaDerecha=!0}},onKeyReleased:function(o,e){switch(o){case cc.KEY.a:i.accionaIzquierda=!1;break;case cc.KEY.d:i.accionaDerecha=!1}}},i.node)},update:function(i){var o=this.aceleracionGiro*i;isNaN(this.velocidadGiro)&&(this.velocidadGiro=0),isNaN(this.anguloActual)&&(this.anguloActual=0),this.accionaIzquierda?this.velocidadGiro<this.velocidadGiroMaxima?this.velocidadGiro+=o:this.velocidadGiro=this.velocidadGiroMaxima:this.accionaDerecha?this.velocidadGiro>-this.velocidadGiroMaxima?this.velocidadGiro-=o:this.velocidadGiro=-this.velocidadGiroMaxima:this.velocidadGiro>0?this.velocidadGiro-=o/2:this.velocidadGiro+=o/2,this.velocidadGiro>=4*-o&&this.velocidadGiro<4*o&&!this.accionaIzquierda&&!this.accionaDerecha?this.velocidadGiro=0:this.anguloActual=(this.anguloActual+this.velocidadGiro)%360,this.node.rotation=this.anguloActual}}),cc._RF.pop()},{}],jugador:[function(i,o,e){"use strict";cc._RF.push(o,"02941jM40RFl57r1Ags29M9","jugador"),cc.Class({extends:cc.Component,properties:{fondo:{default:null,type:cc.Node,serializable:!0},velocidad:{default:1,serializable:!0},velocidadAngularMaxima:{default:1,serializable:!0},aceleracionAngular:{default:1,serializable:!0},radioOrbitacion:{default:20,serializable:!0},radioCentro:{default:40,serializable:!0}},destino:null,anguloDestino:0,velocidadAngularDestino:0,aceleracionAngularDestino:0,deltaAnguloDesaceleracionDestino:0,velocidadDestinoX:0,velocidadDestinoY:0,orbitando:!1,distanciaPosicion:function(i,o){return Math.sqrt((i.x-o.x)*(i.x-o.x)+(i.y-o.y)*(i.y-o.y))},onLoad:function(){var i=this;i.destino=i.node.position,i.anguloDestino=i.node.rotationX,i.orbitando=!0,cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!1,onTouchBegan:function(o,e){isNaN(i.velocidadAngularDestino)&&(i.velocidadAngularDestino=0),i.orbitando=!1,i.destino=o.getLocation(),isNaN(i.node.rotation)&&(i.node.rotation=0),i.node.rotation=(i.node.rotationX+360)%360;var a=(Math.PI/2-Math.atan2(i.destino.y-i.fondo.position.y,i.destino.x-i.fondo.position.x)+2*Math.PI)%(2*Math.PI);i.anguloDestino=a/Math.PI*180;var t=(i.anguloDestino+180-(i.node.rotationX+180))%180;t>0?(i.aceleracionAngularDestino=i.aceleracionAngular,i.deltaAnguloDesaceleracionDestino=Math.abs(t)/2):(i.aceleracionAngularDestino=-i.aceleracionAngular,i.deltaAnguloDesaceleracionDestino=Math.abs(t)/2);var n=Math.atan2(i.destino.y-i.node.position.y,i.destino.x-i.node.position.x);return i.velocidadDestinoX=Math.cos(n)*i.velocidad,i.velocidadDestinoY=Math.sin(n)*i.velocidad,cc.log(i.destino,i.anguloDestino,i.velocidadDestinoX,i.velocidadDestinoY),!1},onTouchMoved:function(i,o){cc.log("onTouchMoved")},onTouchEnded:function(i,o){cc.log("onTouchEnded")}},i.node)},start:function(){},update:function(i){isNaN(this.velocidadAngularDestino)||isNaN(this.velocidadDestinoX)||isNaN(this.velocidadDestinoY)||(Math.abs(((this.node.rotationX+360)%360+360)%540-((this.anguloDestino+360)%360+360)%540)<this.deltaAnguloDesaceleracionDestino&&(this.aceleracionAngularDestino=-this.aceleracionAngularDestino,this.deltaAnguloDesaceleracionDestino=-1),this.velocidadAngularDestino+=this.aceleracionAngularDestino,Math.abs((this.node.rotation+360)%540-(this.anguloDestino+360)%540)<5&&(this.aceleracionAngularDestino=0,this.velocidadAngularDestino=0),this.node.rotation=this.node.rotationX+this.velocidadAngularDestino*i,(this.distanciaPosicion(this.node.position,this.destino)<this.radioOrbitacion/5||!0===this.orbitando)&&(!0!==this.orbitando&&(this.velocidadDestinoX=0,this.velocidadDestinoY=0,this.orbitando=!0),this.velocidadDestinoX>this.velocidadDestinoY?this.velocidadDestinoX=this.velocidadDestinoY:this.velocidadDestinoY=this.velocidadDestinoX,this.velocidadDestinoX=.5*this.velocidadDestinoX+.5*(this.destino.x-this.node.position.x)+this.radioOrbitacion*(Math.random()-.5),this.velocidadDestinoY=.5*this.velocidadDestinoY+.5*(this.destino.y-this.node.position.y)+this.radioOrbitacion*(Math.random()-.5)),this.node.setPosition(this.node.position.x+this.velocidadDestinoX*i,this.node.position.y+this.velocidadDestinoY*i))}}),cc._RF.pop()},{}]},{},["Panel","fondo","jugador"]);